/* Compiled via gulp-uglify on Monday, March 14th 2022, 2:11:41PM -04:00 [ 1647281501216 ] */
"use strict";!function(){angular.module("app",["ngMaterial","app.constants","app.config","app.directives","app.filters","app.routes","app.services","app.controllers","standings","register","rules","payment"])}(),function(){function e(e){e.theme("default").primaryPalette("red").accentPalette("blue")}function t(e,t){function n(){$("body").removeAttr("unresolved"),t("left").close()}e.$on("$stateChangeSuccess",n)}e.$inject=["$mdThemingProvider"],t.$inject=["$rootScope","$mdSidenav"],angular.module("app.config",[]).config(e).run(t)}(),function(){function e(){return{ONPOOLDATAREFRESHED:"onPoolDataRefreshed",ONPOOLDATAREFRESHING:"onPoolDataRefreshing"}}angular.module("app.constants",[]).constant("CONSTANTS",e)}(),function(){function e(e,t,n,r,o){function i(){c.subNavItems=l(),c.onRefreshClick=s,o.refresh(),setTimeout(function(){return o.refresh()},1e3)}function a(e){r(e).toggle()}function l(){return[{id:"standings",label:"Standings"},{id:"register",label:"How to Enter"},{id:"rules",label:"Rules"},{id:"payment",label:"Payment"}]}function s(){o.refresh()}var c=this;c.toggleSidenav=a,c.init=i,c.init()}e.$inject=["$log","$location","$rootScope","$mdSidenav","ESPNService"],angular.module("app.controllers",[]).controller("Master_Controller",e)}(),function(){function e(e){function t(t,n,r){if(t.size=parseInt(r.size,0)||80,t["class"]="gravatar-"+t.size,t.defaultImage=r["default"]||"identicon",t.forceDefault=angular.isDefined(r.force),t.rating=r.rating||"G",t.round=angular.isDefined(r.round),t.emailHash=e.MD5(t.email).toString(),t.round){var o="\n        <style id='"+t["class"]+"'>\n          ."+t["class"]+" {\n            vertical-align: text-top;\n            height: "+t.size+"px;\n            width: "+t.size+"px;\n            border-radius: "+t.size+"px;\n            display: inline;\n          }\n        </style>\n      ";n.addClass(t["class"]),0===angular.element("#"+t["class"]).length&&angular.element("body").append(o)}}return t.$inject=["$scope","element","attrs"],{restrict:"E",scope:{email:"=",letter:"="},replace:!0,template:"<img data-ng-src='//www.gravatar.com/avatar/{{emailHash}}?s={{size}}&r={{rating}}&d={{defaultImage}}' />",link:t}}e.$inject=["CryptoJs"],angular.module("app.directives",[]).directive("gravatar",e)}(),function(){function e(e){return e.trustAsHtml}function t(){return function(e){return e?e.filter(function(e){return e.isFavorite}):e}}function n(){return function(e){return e?e.filter(function(e){return e.winningTeam&&!!e.winningTeam.isEliminated}):e}}function r(){return function(e){return e?e.filter(function(e){return!e.winningTeam||!e.winningTeam.isEliminated}):e}}e.$inject=["$sce"],angular.module("app.filters",[]).filter("unsafe",e).filter("favorites",t).filter("eliminated",n).filter("alive",r)}(),function(){function e(e,t,n){e.html5Mode(!0),t.state("standings",{url:"/",templateUrl:"/html/js/app/standings/standings.tmpl.html",controller:"Standings_Controller",controllerAs:"sc"}).state("register",{url:"/register",templateUrl:"/html/js/app/register/register.tmpl.html",controller:"Register_Controller",controllerAs:"rc"}).state("rules",{url:"/rules",templateUrl:"/html/js/app/rules/rules.tmpl.html",controller:"Rules_Controller",controllerAs:"rc"}).state("payment",{url:"/payment?entry",templateUrl:"/html/js/app/payment/payment.tmpl.html",controller:"Payment_Controller",controllerAs:"pc"}),n.otherwise("/standings")}e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("app.routes",["ui.router"]).config(e)}(),function(){function e(e,t,n,r){function i(i){function a(e){return e.pool=o(e.group,r.teams),n.$broadcast(r.ONPOOLDATAREFRESHED,e.pool),i(null,e.pool)}function l(t,o,a,l){return e.error({data:t,status:o,headers:a,config:l}),n.$broadcast(r.ONPOOLDATAREFRESHED,t.pool),i(new Error("Could not retrieve bracket info at this time."))}var s="/api/espn/bracket";i="function"==typeof i?i:function(){},n.$broadcast(r.ONPOOLDATAREFRESHING),t.get(s).success(a).error(l)}var a={refresh:function(e){return i(e)}};return a}function t(e,t,n,r){function o(e,t){i.pool=t}var i={},a={get:function(){return i},set:function(e){i=e}};return n.$on(r.ONPOOLDATAREFRESHED,o),a}function n(){return CryptoJS}function r(){function e(){if(!window.localStorage)return[];var e=localStorage.getItem(n)||"[]";return angular.fromJson(e)}function t(e){return window.localStorage?void localStorage.setItem(n,angular.toJson(e)):e}var n="favorites_"+(new Date).getFullYear();return{get:e,set:t}}function o(e){return e=e||{},e.costPerEntry=10,e.firstPlacePercent=.5,e.secondPlacePercent=.35,e.thirdPlacePercent=.15,e.payouts={first:e.entries.length*e.costPerEntry*e.firstPlacePercent,second:e.entries.length*e.costPerEntry*e.secondPlacePercent,third:e.entries.length*e.costPerEntry*e.thirdPlacePercent},JSON.parse(JSON.stringify(e))}e.$inject=["$log","$http","$rootScope","CONSTANTS"],t.$inject=["$log","$http","$rootScope","CONSTANTS"],angular.module("app.services",["ngResource"]).service("CacheService",t).service("ESPNService",e).service("CryptoJs",n).service("Favorites",r)}(),function(){angular.module("register",["register.controllers"])}(),function(){angular.module("payment",["payment.controllers"])}(),function(){angular.module("rules",["rules.controllers"])}(),function(){angular.module("standings",["standings.controllers"])}(),function(){angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}(),function(){function e(e,t,n,r,o){function i(){l.title="How to Enter",o.get().pool&&(l.pool=o.get().pool)}function a(e,t){l.pool=t}var l=this;n.$on(r.ONPOOLDATAREFRESHED,a),l.init=i,l.init()}e.$inject=["$log","$scope","$rootScope","CONSTANTS","CacheService"],angular.module("register.controllers",[]).controller("Register_Controller",e)}(),function(){function e(e,t,n,r,o,i,a,l){function s(e){return angular.isObject(e)?e:{name:i.trustAsHtml(e)}}function c(e){var t=e?h.entries.filter(u(e)):[];return t}function u(e){var t=angular.lowercase(e);return function(e){return 0===e._lowername.indexOf(t)}}function f(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function m(){var e=(__paymentUri||"https://stripe-processor.herokuapp.com")+"?&c=USD&n="+__year+" March Madness&d="+encodeURIComponent(h.selectedEntries.map(function(e){return f(e.name)}).join(", "))+"&a="+(10*h.selectedEntries.length*100).toString()+"&m_firstName="+encodeURIComponent(h.paymentForm.firstName)+"&m_lastName="+encodeURIComponent(h.paymentForm.lastName)+"&m_ncaa=true&m_year="+(new Date).getFullYear()+"&o=1&i="+window.__stripeThumbnailImageUrl+("&b="+window.__stripeBackgroundImageUrl)+"&r=https://ncaa.n8io.com&z=1";e+="&m_brackets="+encodeURIComponent(h.selectedEntries.map(function(e){return e.id.toString()+"~~~"+f(e.name)}).join(":::")),angular.element("#payment").attr("disable","disable").text("Please wait..."),window.location.href=e}function d(){h.title="Payment Details",l.get().pool&&(h.pool=l.get().pool,h.entries=g(h.pool),v())}function p(e,t){h.pool=t,h.entries=g(t),v()}function g(e){return e.entries.map(function(e){return{id:e.id,name:e.entryName,_lowername:e.entryName.toLowerCase(),paid:Boolean(e.paid)}})}function v(){var e=o.search().entry;e&&(h.selectedEntries=h.entries.filter(function(t){return t.id===parseInt(e,10)}))}var h=this;n.$on(a.ONPOOLDATAREFRESHED,p),h.selectedEntries=[],h.transformChip=s,h.querySearch=c,h.onSubmit=m,h.activate=d,h.title="Payment Details",h.activate()}e.$inject=["$log","$scope","$rootScope","$timeout","$location","$sce","CONSTANTS","CacheService"],angular.module("payment.controllers",[]).controller("Payment_Controller",e)}(),function(){!function(){function e(e,t,n,r,o){function i(){l.title="Rules",o.get().pool&&(l.pool=o.get().pool)}function a(e,t){l.pool=t}var l=this;n.$on(r.ONPOOLDATAREFRESHED,a),l.init=i,l.init()}e.$inject=["$log","$scope","$rootScope","CONSTANTS","CacheService"],angular.module("rules.controllers",[]).controller("Rules_Controller",e)}()}(),function(){function e(e,t,n,r,o,i,a,l,s){function c(){n(function(){return S.isRefreshing=!0})}function u(e,t){n(function(){return m(t)})}function f(){S.$mdMedia=i,S.isRefreshing=!0,S.countdown={days:0,hours:0,minutes:0,seconds:0,total:0},S.title="Standings",l.get().pool&&m(l.get().pool),d()}function m(e){e&&(S.pool=h(e),S.pool.entries=S.pool.entries.map(function(e){return e.isFavorite=!!a.get().find(function(t){return e.id===t}),e}),S.isRefreshing=!1)}function d(){var e=moment(__startTime),t=moment();return t>e?void(S.countdown.total=0):(p(),void r(p,1e3))}function p(){var e=moment(__startTime),t=moment(),n=moment(e).diff(t,"days"),r=moment(e).diff(t,"hours")%24,o=moment(e).diff(t,"minutes")%60,i=moment(e).diff(t,"seconds")%60;S.countdown.days=n,S.countdown.hours=r,S.countdown.minutes=o,S.countdown.seconds=i,S.countdown.total=moment(e).diff(t,"milliseconds")}function g(e){e.isFavorite=!e.isFavorite,a.set(S.pool.entries.filter(function(e){return e.isFavorite}).map(function(e){return e.id}))}function v(e){return o.trustAsHtml(e)}function h(e){return e&&e.entries?(e.entries.forEach(function(e){e.owner=e.userName,e.financier=(e.paid?e.paid.firstName+" "+e.paid.lastName+" | "+e.userName:"")||""+e.userName}),e):void 0}var S=this;t.$on(s.ONPOOLDATAREFRESHING,c),t.$on(s.ONPOOLDATAREFRESHED,u),S.parseEntryName=v,S.toggleFavorite=g,S.init=f,S.init()}e.$inject=["$scope","$rootScope","$timeout","$interval","$sce","$mdMedia","Favorites","CacheService","CONSTANTS"],angular.module("standings.controllers",[]).controller("Standings_Controller",e)}();